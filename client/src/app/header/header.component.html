<header class="app-header">
  <ui5-shellbar primary-title="App Tareas" (ui5-profile-click)="handleProfileClick($event)" (ui5-logo-click)="handleGoHome()">
	<ui5-avatar *ngIf="accountService.isLoged()" slot="profile" size="XS" [initials]="accountService.getUserInitial()"></ui5-avatar>
	<img src="./assets/images/biopappel-logo.png" slot="logo" title="App Tareas" (click)="handleGoHome()">
	<ui5-shellbar-item icon="palette" text="Temas" ref="themeChangeItem" (click)="handleThemeSettingsToggle($event)"></ui5-shellbar-item>
    <ui5-shellbar-item *ngIf="accountService.isLoged()" icon="log" (click)="handleLogOut()"></ui5-shellbar-item>
  </ui5-shellbar>

  <ui5-popover #themeSettingsPopover 
 	class="app-bar-theming-popover" 
	placement-type="Bottom" 
	horizontal-align="Right" 
	header-text="Tema">
    <ui5-list #themeSelect mode="SingleSelect" (selectionChange)="handleThemeChange($event)">
      <ui5-li icon="palette" data-theme="sap_horizon" selected>Blanco</ui5-li>
      <ui5-li icon="palette" data-theme="sap_horizon_dark">Negro</ui5-li>
    </ui5-list>
  </ui5-popover>

  <ui5-popover #profileSettingsPopover id="profile-pop" class="app-bar-profile-popover" placement-type="Bottom" horizontal-align="Right">
    <div class="profile-settings">
      <ui5-avatar size="M" [initials]="accountService.getUserInitial()"></ui5-avatar>
      <div class="profile-text">
        <ui5-title level="H4">{{accountService.getUserNames()}}</ui5-title>
        <ui5-label>{{accountService.getUserPuesto()}}</ui5-label>
      </div>
    </div>

    <div class="profile-settings-list">
      <ui5-list mode="SingleSelect" separators="None" (item-click)="handleProfileSettingsSelect($event)">
        <ui5-li icon="settings" *ngIf="accountService.isAdmin()" data-key="settings">Admin</ui5-li>
        <ui5-li icon="private" data-key="password-change">Cambiar contaseña</ui5-li>
		<ui5-li icon="sys-help" data-key="help">Acerca de...</ui5-li>
      </ui5-list>
    </div>
  </ui5-popover>

  <ui5-dialog id="settings-dialog" header-text="Profile Settings" draggable>
    <div>
      <div class="profile-rtl-switch centered">
        <div class="profile-rtl-switch-title">
          <ui5-label class="profile-rtl-switch-text">RTL</ui5-label>
        </div>
        <ui5-switch (change)="handleRtlSwitchChange($event)"></ui5-switch>
      </div>
    </div>

    <div class="profile-rtl-switch centered">
      <div class="profile-rtl-switch-title">
        <ui5-label class="profile-rtl-switch-text">Compact</ui5-label>
      </div>
      <ui5-switch (change)="handleContentDensitySwitchChange($event)"></ui5-switch>
    </div>

    <div class="dialog-button">
      <ui5-button (click)="handleSettingsDialogCloseButtonClick($event)" design="Emphasized">Close</ui5-button>
    </div>
  </ui5-dialog>

  <aside>
    <ui5-dialog #dialogChangePassword>
      <app-cambia-passw [iniData]="swchChPsw" (cerrar)="handleCloseChangePassw($event)"></app-cambia-passw>
    </ui5-dialog>
  </aside>

  <ui5-dialog id="help-dialog">
    <div slot="header" class="help-header" id="header-title-align">
      <ui5-icon name="sys-help"></ui5-icon>
      Acerca de
    </div>

    <div class="help-header" id="header-logo-align">
      <img class="app-header-logo" alt="logo" slot="logo" src="../../assets/images/biopappel-logo.png" />
      <ui5-title level="H5">App Tareas</ui5-title>
    </div>

	<p class="help-dialog-text">
		<b>Fecha</b>: 2025-04-25<br>
		<b>Versión</b>: 0.1 <br>
		<b>Autor</b>: JCV<br>
		<hr />
	<p>

    <div class="dialog-button">
      <ui5-button design="Emphasized" (click)="handleHelpDialogCloseButtonClick($event)">Cerrar</ui5-button>
    </div>
  </ui5-dialog>
</header>
